---
title: Deployment
description: Learn how to deploy your Nuxt Auto CRUD application to production.
---

# Deploying to Production

Since Nuxt Auto CRUD is built on standard Nuxt and NuxtHub practices, you can deploy it to any provider that supports Nuxt. However, **Cloudflare** is often the easiest platform for deploying dynamic web apps with a database.

## 1. Deploying to Cloudflare Workers / Pages

1.  **Setup Database**:
    *   Go to the **Cloudflare Dashboard** > **Storage & Databases** > **D1**.
    *   Create a new D1 database (e.g., `my-crud-app-db`).
    *   Copy the `database_id`.

2.  **Configure Local Project**:
    *   In your `wrangler.toml`, add your database configuration:
        ```toml
        [[d1_databases]]
        binding = "DB"
        database_name = "<your-db-name>"
        database_id = "<your-db-id>"
        ```
    *   In `package.json`, update the migration script. Replace `<DATABASE_NAME>` with your actual Cloudflare D1 database name (created in Step 1):
        ```json
        "scripts": {
          "migrate:remote": "npx wrangler d1 migrations apply <DATABASE_NAME> --remote"
        }
        ```
    *   Commit and push these changes.

3.  **Create a Project in Cloudflare**:
    *   Go to the Cloudflare Dashboard > **Workers & Pages**.
    *   Click **Create application**.
    *   Connect your Git provider (GitHub/GitLab) and import the repository you just pushed.

4.  **Configure Environment Variables**:
    *   In your Cloudflare Project Settings > **Environment Variables**, add the variables listed in Section 1 (Production Environment Variables).
    *   At a minimum, you must set:
        *   `NUXT_SESSION_PASSWORD`
        *   `NUXT_ADMIN_EMAIL`
        *   `NUXT_ADMIN_PASSWORD`

5.  **Deploy**:
    *   Cloudflare Pages will automatically rebuild and deploy your site on push.
    *   Once deployed, run the migration command locally to setup the remote database:
        ```bash
        npm run migrate:remote
        ```
    *   Once deployed, run the migration command locally to setup the remote database:
        ```bash
        npm run migrate:remote
        ```
    *   **Final Step: Initialize Data**
        Visit your deployed application's login page and log in with your configured `NUXT_ADMIN_EMAIL` and `NUXT_ADMIN_PASSWORD`.
        
        *The system is designed to detect this first admin login and will automatically **seed** the database with proper tables, roles, and permissions.*

## 2. Environment Variables

These are the environment variables that you often need (e.g., set via Cloudflare dashboard):

- **`NUXT_SESSION_PASSWORD`**: A long, random string (at least 32 characters) used to encrypt user sessions.
- **`NUXT_ADMIN_EMAIL`**: The email address of the initial admin user. This is used for seeding the first admin account.
- **`NUXT_ADMIN_PASSWORD`**: The initial password for the admin account.
- **`NUXT_OAUTH_GITHUB_CLIENT_ID`** & **`NUXT_OAUTH_GITHUB_CLIENT_SECRET`**: (Optional) For GitHub Login.
- **`NUXT_OAUTH_GOOGLE_CLIENT_ID`** & **`NUXT_OAUTH_GOOGLE_CLIENT_SECRET`**: (Optional) For Google Login.
- **`NUXT_EMAIL_FROM`**: The sender address for emails (e.g., `"Auth" <noreply@example.com>`).
- **`NUXT_RESEND_API_KEY`**: (Optional) For sending emails.
- **`NUXT_PUBLIC_GA_ID`**: (Optional) Google Analytics 4 ID.
- **`NUXT_PUBLIC_ADS_ID`**: (Optional) Google Ads conversion ID.

## 3. Configure Permissions (Important!)

**Crucial Step:** Your local SQLite database (where you configured roles and permissions) is **NOT** uploaded to production.

Once you have logged in as Admin (which triggers the seeding):

1.  Navigate to the **Dashboard**.
2.  Go to the **Roles & Permissions** section.
3.  **Re-configure your permissions.** You need to define which roles can access which resources again for the production environment.

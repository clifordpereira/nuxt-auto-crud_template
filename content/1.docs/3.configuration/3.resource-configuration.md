---
title: Resource Configuration (RBAC)
description: Define fine-grained access control and resource policies.
---

## Overview

You can define fine-grained access control and resource policies in your `nuxt.config.ts` under the `autoCrud` key.

## Example Configuration

```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  autoCrud: {
    resources: {
      // Guest View: Only these columns are visible to unauthenticated users.
      // Access control (who can list/read) is managed by your DB permissions.
      users: ['id', 'name', 'avatar'], 
    },
  },
})
```

## Advanced Field Visibility

Currently, `nuxt-auto-crud` simplifies visibility into two tiers:
1.  **Guest (Unauthenticated)**: Restricted by `publicColumns` in `nuxt.config.ts`.
2.  **Authenticated (All Roles)**: Sees all fields (except globally hidden ones).

### API Resource Control (app.config.ts)

For more granular control similar to **Laravel API Resources**, use the `crud` configuration in `app/app.config.ts`. This allows you to hide specific columns from different contexts:

```typescript
// app.config.ts
export default defineAppConfig({
  crud: {
    // Columns to always hide from the UI table (Authenticated & Guest)
    globalHide: ['updatedAt', 'deletedAt', 'createdBy', 'updatedBy', 'resetToken'],
    
    // Export specific settings
    exports: {
      pdf: {
        // Excluded from ALL resources in PDF
        globalExclude: ['avatar', 'resetToken', 'resetExpires'],
        // Resource specific overrides
        resourceExclude: {
          users: ['password', 'googleId', 'githubId'],
        },
      },
      excel: {
        globalExclude: [],
        resourceExclude: {
          users: ['password'],
        },
      },
    },
  },
})
```

**Note:** In enterprise applications requiring role-specific field visibility (e.g., "Managers" see salary, "Employees" do not), the standard approach is **Field-Level Security (FLS)** stored in the database. As `nuxt-auto-crud` focuses on MVP speed and simplicity, role-specific field filtering is currently handled via these configuration blocks.

## Security Note

Even in full-stack applications where you control the UI, relying on the frontend to "not display" sensitive data is a security vulnerability. The data is still visible in the browser's Network tab. 

*   **Auto-Hiding:** Sensitive fields like `password`, `secret`, and `token` are automatically hidden from **ALL** responses by the `nuxt-auto-crud` module.
*   **Custom Hiding:** Use `globalHide` in `app.config.ts` to hide additional fields (like `updatedAt` or `email`) that the module doesn't hide by default.
*   **Context Hiding:** Use the `resources` config in `nuxt.config.ts` to filter fields specifically from public guest responses.
